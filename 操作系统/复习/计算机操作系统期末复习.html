<!doctype html>
<html lang="zh-CN">
 <head> 
  <meta charset="utf-8"> 
  <link rel="canonical" href="https://blog.csdn.net/2301_76616273/article/details/135329820"> 
  <meta http-equiv="content-type" content="text/html; charset=utf-8"> 
  <meta name="renderer" content="webkit"> 
  <meta name="force-rendering" content="webkit"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"> 
  <meta name="report" content="{&quot;pid&quot;: &quot;blog&quot;, &quot;spm&quot;:&quot;1001.2101&quot;}"> 
  <meta name="referrer" content="always"> 
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <link rel="alternate" media="handheld" href="#">  
  <meta name="applicable-device" content="pc"> 
  <link href="https://g.csdnimg.cn/static/logo/favicon32.ico" rel="shortcut icon" type="image/x-icon"> 
  <title>计算机操作系统 期末复习_计算机操作系统期末复习-CSDN博客</title>   
  <meta name="keywords" content="计算机操作系统期末复习"> 
  <meta name="csdn-baidu-search" content="{&quot;autorun&quot;:true,&quot;install&quot;:true,&quot;keyword&quot;:&quot;计算机操作系统期末复习&quot;}"> 
  <meta name="description" content="文章浏览阅读1.5k次，点赞28次，收藏59次。操作系统的目标是方便性、有效性、可扩充性和开放性。_计算机操作系统期末复习"> 
  <link rel="stylesheet" type="text/css" href="https://csdnimg.cn/release/blogv2/dist/pc/css/detail_enter-72afa20676.min.css">  
  <link rel="stylesheet" type="text/css" href="https://csdnimg.cn/release/blogv2/dist/pc/themesSkin/skin-whitemove/skin-whitemove-2af9149bdc.min.css">    
  <meta name="toolbar" content="{&quot;type&quot;:&quot;0&quot;,&quot;fixModel&quot;:&quot;1&quot;}">    
  <link rel="stylesheet" type="text/css" href="https://csdnimg.cn/public/sandalstrap/1.4/css/sandalstrap.min.css"> 
  <style>
        .MathJax, .MathJax_Message, .MathJax_Preview{
            display: none
        }
    </style>      
 	<style>
	main div.blog-content-box pre {
		max-height: 100%;
		overflow-y: hidden;
	}
	</style>
 </head>  
 <body class="nodata  " style=""> 
  <div id="toolbarBox" style="min-height: 48px;"></div>    
  <link rel="stylesheet" href="https://csdnimg.cn/release/blogv2/dist/pc/css/blog_code-01256533b5.min.css"> 
  <link rel="stylesheet" href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/chart-3456820cac.css"> 
  <link rel="stylesheet" href="https://g.csdnimg.cn/lib/swiper/6.0.4/css/swiper.css">   
  <div class="main_father clearfix d-flex justify-content-center mainfather-concision" style="height:100%;"> 
   <div class="container clearfix container-concision" id="mainBox">  
    <main>  
     <div class="blog-content-box"> 
      <div class="article-header-box"> 
       <div class="article-header"> 
        <div class="article-title-box"> 
         <h1 class="title-article" id="articleContentId">计算机操作系统 期末复习</h1> 
        </div> 
        <div class="article-info-box"> 
         <div class="article-bar-top"> 
          <img class="article-type-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/original.png" alt=""> 
          <div class="bar-content"> 
           <a class="follow-nickName " href="https://blog.csdn.net/2301_76616273" target="_blank" rel="noopener" title="11egativ1ty">11egativ1ty</a> 
           <img class="article-time-img article-heard-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newUpTime2.png" alt=""> 
           <span class="time">已于&nbsp;2024-01-02 19:58:53&nbsp;修改</span> 
           <div class="read-count-box"> 
            <img class="article-read-img article-heard-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes2.png" alt=""> 
            <span class="read-count">阅读量1.5k</span> 
            <a id="blog_detail_zk_collection" class="un-collection" data-report-click="{&quot;mod&quot;:&quot;popu_823&quot;,&quot;spm&quot;:&quot;1001.2101.3001.4232&quot;,&quot;ab&quot;:&quot;new&quot;}"> <img class="article-collect-img article-heard-img un-collect-status isdefault" style="display:inline-block" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect2.png" alt=""> <img class="article-collect-img article-heard-img collect-status isactive" style="display:none" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollectionActive2.png" alt=""> <span class="name">收藏</span> <span class="get-collection"> 59 </span> </a> 
            <div class="read-count-box is-like" data-type="top"> 
             <img class="article-read-img article-heard-img" style="display:none" id="is-like-imgactive-new" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newHeart2023Active.png" alt=""> 
             <img class="article-read-img article-heard-img" style="display:block" id="is-like-img-new" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newHeart2023Black.png" alt=""> 
             <span class="read-count" id="blog-digg-num">点赞数 28 </span> 
            </div> 
           </div> 
          </div> 
         </div> 
         <div class="blog-tags-box"> 
          <div class="tags-box artic-tag-box"> 
           <span class="label">文章标签：</span> 
           <a rel="noopener" data-report-query="spm=1001.2101.3001.4223" data-report-click="{&quot;mod&quot;:&quot;popu_626&quot;,&quot;spm&quot;:&quot;1001.2101.3001.4223&quot;,&quot;strategy&quot;:&quot;硬件工程&quot;,&quot;ab&quot;:&quot;new&quot;,&quot;extra&quot;:&quot;{\&quot;searchword\&quot;:\&quot;硬件工程\&quot;}&quot;}" data-report-view="{&quot;mod&quot;:&quot;popu_626&quot;,&quot;spm&quot;:&quot;1001.2101.3001.4223&quot;,&quot;strategy&quot;:&quot;硬件工程&quot;,&quot;ab&quot;:&quot;new&quot;,&quot;extra&quot;:&quot;{\&quot;searchword\&quot;:\&quot;硬件工程\&quot;}&quot;}" class="tag-link" href="https://so.csdn.net/so/search/s.do?q=%E7%A1%AC%E4%BB%B6%E5%B7%A5%E7%A8%8B&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">硬件工程</a> 
           <a rel="noopener" data-report-query="spm=1001.2101.3001.4223" data-report-click="{&quot;mod&quot;:&quot;popu_626&quot;,&quot;spm&quot;:&quot;1001.2101.3001.4223&quot;,&quot;strategy&quot;:&quot;microsoft&quot;,&quot;ab&quot;:&quot;new&quot;,&quot;extra&quot;:&quot;{\&quot;searchword\&quot;:\&quot;microsoft\&quot;}&quot;}" data-report-view="{&quot;mod&quot;:&quot;popu_626&quot;,&quot;spm&quot;:&quot;1001.2101.3001.4223&quot;,&quot;strategy&quot;:&quot;microsoft&quot;,&quot;ab&quot;:&quot;new&quot;,&quot;extra&quot;:&quot;{\&quot;searchword\&quot;:\&quot;microsoft\&quot;}&quot;}" class="tag-link" href="https://so.csdn.net/so/search/s.do?q=microsoft&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">microsoft</a> 
           <a rel="noopener" data-report-query="spm=1001.2101.3001.4223" data-report-click="{&quot;mod&quot;:&quot;popu_626&quot;,&quot;spm&quot;:&quot;1001.2101.3001.4223&quot;,&quot;strategy&quot;:&quot;学习&quot;,&quot;ab&quot;:&quot;new&quot;,&quot;extra&quot;:&quot;{\&quot;searchword\&quot;:\&quot;学习\&quot;}&quot;}" data-report-view="{&quot;mod&quot;:&quot;popu_626&quot;,&quot;spm&quot;:&quot;1001.2101.3001.4223&quot;,&quot;strategy&quot;:&quot;学习&quot;,&quot;ab&quot;:&quot;new&quot;,&quot;extra&quot;:&quot;{\&quot;searchword\&quot;:\&quot;学习\&quot;}&quot;}" class="tag-link" href="https://so.csdn.net/so/search/s.do?q=%E5%AD%A6%E4%B9%A0&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">学习</a> 
          </div> 
         </div> 
         <div class="up-time">
          <span>于&nbsp;2024-01-02 04:03:12&nbsp;首次发布</span>
         </div> 
         <div class="slide-content-box"> 
          <div class="article-copyright"> 
           <div class="creativecommons">
             版权声明：本文为博主原创文章，遵循
            <a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"> CC 4.0 BY-SA </a>版权协议，转载请附上原文出处链接和本声明。 
           </div> 
           <div class="article-source-link">
             本文链接：
            <a href="https://blog.csdn.net/2301_76616273/article/details/135329820" target="_blank">https://blog.csdn.net/2301_76616273/article/details/135329820</a> 
           </div> 
          </div> 
         </div> 
         <div class="operating"> 
          <a class="href-article-edit slide-toggle">版权</a> 
         </div> 
        </div> 
       </div> 
      </div> 
      <div id="blogHuaweiyunAdvert" class=""></div> 
      <article class="baidu_pl"> 
       <div id="article_content" class="article_content clearfix"> 
        <link rel="stylesheet" href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/kdoc_html_views-1a98987dfd.css"> 
        <link rel="stylesheet" href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/ck_htmledit_views-704d5b9767.css"> 
        <div id="content_views" class="markdown_views prism-atom-one-light"> 
         <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> 
          <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path> 
         </svg> 
         <h2><a id="__0"></a>第一章 引论</h2> 
         <h3><a id="11__1"></a>1.1 操作系统的目标和作用</h3> 
         <p>操作系统的目标是方便性、有效性、可扩充性和开放性。<br> 操作系统的作用是：</p> 
         <ol>
          <li>作为与计算机硬件系统之间的接口</li>
          <li>作为计算机系统资源的管理者</li>
          <li>实现了对计算机资源的抽象</li>
         </ol> 
         <h3><a id="12__8"></a>1.2 操作系统的发展历程</h3> 
         <p>按时间给出操作系统的分类：单道批处理系统、多道批处理系统、分时系统、实时系统。</p> 
         <h4><a id="121__10"></a>1.2.1 各系统的优缺点和矛盾</h4> 
         <ol>
          <li>单道批处理的缺点是系统中资源得不到充分的利用，在内存中<strong>仅有一道程序</strong>，每当发出I/O请求后CPU便处于等待状态。</li>
          <li>多道程序技术允许多个程序同时进入内存并且允许它们在CPU中交替运行。当一道程序因I/O请求而暂停运行时，CPU立即转去运行其他道程序，使资源得到充分利用，工作效率成倍提高；因此具有<strong>资源利用率高、系统吞吐量大</strong>的优点。</li>
          <li>多道批处理的缺点是平均周转时间长（作业排队依次进行处理）、无交互能力。</li>
          <li>分时系统与上述两个系统处理的矛盾不同，它是为了对于<strong>共享的主机</strong>处理人机交互的需求。多道批处理中用户无法与作业进行交互的原因是作业都先驻留在外存（磁盘）上，而后经过长时间的等待才可以执行。因此分时系统实现的关键问题是<strong>及时接收、及时处理</strong>。</li>
          <li>对于多道批处理平均周转时间长的问题，分时系统提出了<strong>时间片</strong>。</li>
          <li>实时系统与分时系统的对比：多路性、独立性、及时性、交互性、可靠性；实时系统举例：工业控制系统、信息查询系统、多媒体系统、嵌入式系统</li>
         </ol> 
         <h3><a id="13__18"></a>1.3 操作系统的特征</h3> 
         <h4><a id="131__19"></a>1.3.1 并发</h4> 
         <p>并行性是两个或多个事件在<mark>同一时刻</mark>发生，而<strong>并发</strong>是<mark>同一时间间隔内</mark>发生</p> 
         <h4><a id="132__22"></a>1.3.2 共享</h4> 
         <ol>
          <li>互斥共享方式：一段时间内只允许一个进程访问该资源，如打印机、磁带机</li>
          <li>同时访问方式：宏观上允许一段时间内多个进程同时访问系统资源，微观上是交替访问的，如磁盘</li>
         </ol> 
         <h4><a id="133__25"></a>1.3.3 虚拟</h4> 
         <p>通过某种技术将一个物理实体变为若干个逻辑上对应的功能。</p> 
         <h4><a id="134__27"></a>1.3.4 异步</h4> 
         <p>多道程序环境多个程序并发执行，但由于资源有限，进程的执行并不是一贯到底，而是以不可预知的速度向前推进。</p> 
         <h2><a id="__30"></a>第二章 进程</h2> 
         <p>程序顺序执行与并发执行的区别：</p> 
         <ol>
          <li>顺序执行具有顺序性、封闭性和可再现性</li>
          <li>并发具有间断性、不封闭、不可再现</li>
         </ol> 
         <h3><a id="21__35"></a>2.1 进程的特征</h3> 
         <p>进程实体由<strong>程序段</strong>、相关的<strong>数据段</strong>和<strong>PCB</strong>三部分构成。<br> 进程具有动态性、并发性、独立性和异步性。</p> 
         <h3><a id="22__38"></a>2.2 进程的状态</h3> 
         <h4><a id="221__39"></a>2.2.1 三状态模型</h4> 
         <ol>
          <li>就绪状态（Ready）：指程序已处于准备好运行的状态，进程已分配到除CPU以外的所有必要资源，只要再获得CPU就可以立刻执行。</li>
          <li>执行状态（Running）：已获得CPU，正在执行</li>
          <li>阻塞状态（Block）：<strong>正在执行</strong>的进程由于发生某事件（如I/O请求、申请缓冲区失败）暂时无法继续执行是的状态。</li>
         </ol> 
         <p>状态转换图：<br> <img src="https://i-blog.csdnimg.cn/blog_migrate/b344f1ff5c7cd31b8536d5c1518eab08.jpeg" alt="在这里插入图片描述"></p> 
         <h4><a id="222__46"></a>2.2.2 五状态模型</h4> 
         <p>在2.2.1的基础上添加：</p> 
         <ol start="4">
          <li>创建状态：进程刚被创建时的状态，尚未进入就绪态</li>
          <li>终止状态：进程将要被系统删除，PCB清零。</li>
         </ol> 
         <p><img src="https://i-blog.csdnimg.cn/blog_migrate/126d35a06c6fe66d374a4d601c2dac49.jpeg" alt="在这里插入图片描述"></p> 
         <h3><a id="23__53"></a>2.3 进程同步</h3> 
         <p>在多道程序环境下，多个进程共享系统中的资源，他们可能存在两种制约关系：</p> 
         <ol>
          <li>间接相互制约关系：由于共享<strong>系统资源</strong>，如CPU、I/O等，致使这些并发执行的程序之间有相互制约的关系（说人话是因为只有一个打印机，不可能并发地同时打印两份文件，这个限制不是程序设计造成的）</li>
          <li>直接相互制约关系：为了完成某任务而建立的多个进程，这些进程将为完成同一项任务而相互合作。</li>
         </ol> 
         <h4><a id="231__58"></a>2.3.1 临界资源</h4> 
         <p>许多硬件资源如磁带机、打印机等都属于临界资源<br> 临界区：访问临界资源的那段代码叫做临界区<br> <strong>同步机制应当遵循的规则：</strong><mark>空闲让进、忙则等待、有限等待、让权等待</mark></p> 
         <h4><a id="232__63"></a>2.3.2 信号量的应用</h4> 
         <p>为使多个进程能互斥地访问某个临界资源，引入了<strong>信号量</strong></p> 
         <ol>
          <li>生产者-消费者问题：</li>
         </ol> 
         <blockquote> 
          <p>样例伪代码</p> 
          <pre><code  style="height: 50vh;">int in, out;
item buffer[n];
semaphore mutex = 1, empty = n, full = 0;
void producer(){
    item x;
    do {
    wait(empty);
    wait(mutex);
    buffer[in] = nextp;
    in = (in+1) % n;	//指向下一个生产数据的位置
    signal(mutex);
    signal(empty);
    } while (TRUE)
}
void consumer(){
	do{
		wait(full);
		wait(mutex);
		nextc = buffer[out];
		out = (out+1)%n;
		signal(mutex);
		signal(empty);
	} while(TRUE);
}
</code ></pre> 
         </blockquote> 
         <ol start="2">
          <li>哲学家进餐问题</li>
         </ol> 
         <blockquote> 
          <p>样例代码：</p> 
          <pre><code>semaphore chopstick[5] = {1,1,1,1,1};
do {
	wait(chopstick[i]);
	wait(chopstick[(i+1)%5];
	...
	signal(chopstick[i]);
	signal(chopstick[(i+1)%5];
</code ></pre> 
         </blockquote> 
         <ol start="3">
          <li>读者-写者问题<br> 略</li>
         </ol> 
         <h3><a id="24__109"></a>2.4 进程通信</h3> 
         <p>略</p> 
         <h3><a id="25__111"></a>2.5 线程</h3> 
         <p>在操作系统中引入线程的目的是为了减少程序在并发执行时所付出的时空开销，使OS有更好的并发性。<br> 略</p> 
         <h2><a id="__115"></a>第三章 处理机调度</h2> 
         <p>操作系统的功能被分为处理机管理（第三章）、存储器管理（第四、五章）、设备管理（六）和文件管理（七）。</p> 
         <h3><a id="31__117"></a>3.1 （按）作业调度算法</h3> 
         <h4><a id="311_First_Come_First_Served_118"></a>3.1.1 先来先服务（First Come First Served）算法</h4> 
         <p>FCFS是最简单的算法<br> 系统按照<strong>作业到达的先后次序</strong>来进行调度，优先考虑<strong>等待时间</strong>最长的作业，不考虑<strong>执行时间</strong>的长短。</p> 
         <h4><a id="312_Shord_Job_First_121"></a>3.1.2 短作业优先（Shord Job First）算法</h4> 
         <p>SJF只考虑执行时间的长短，作业越短优先级越高，是对FCFS的改进，然而存在很多缺点：必须预知作业的运行时间、对长作业不利、不能人机交互、不考虑紧迫性</p> 
         <h4><a id="313_PriorityScheduling_algorithm_123"></a>3.1.3 优先级调度算法（Priority-Scheduling algorithm）</h4> 
         <p>通过外部定义作业的紧迫性决定执行顺序</p> 
         <h4><a id="314_Highest_Response_Ratio_Next_125"></a>3.14 高相应比优先（Highest Response Ratio Next）算法</h4> 
         <p>HRRN既考虑了作业的等待时间，又考虑了作业的运行时间：<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 优先权 = 等待时间 + 要求服务时间（执行时间） 要求服务时间 优先权=\frac{等待时间+要求服务时间（执行时间）}{要求服务时间} </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord cjk_fallback">优先权</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 2.0463em; vertical-align: -0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.3603em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord cjk_fallback">要求服务时间</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord cjk_fallback">等待时间</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mord cjk_fallback">要求服务时间（执行时间）</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span></p> 
         <h3><a id="32__129"></a>3.2 （按时间片）轮转调度算法</h3> 
         <p>在轮转法中，系统首先根据FCFS策略将所有进程排成一个队列，设置一定的时间间隔产生一次中断，将CPU分配给新的队首进程，能保证一个确定的时间段内，就绪队列中的所有进程都能获得一次执行。</p> 
         <h3><a id="33__132"></a>3.3 多级反馈队列算法</h3> 
         <p>不做要求</p> 
         <h3><a id="34__135"></a>3.4 死锁</h3> 
         <p>定义：如果一组进程中的<strong>每一个进程</strong>都在等待仅由该组进程中的<strong>其它进程</strong>才能引发的事件，那么该组进程是死锁的</p> 
         <h4><a id="341__137"></a>3.4.1 产生死锁的必要条件</h4> 
         <ol>
          <li>互斥条件：资源排他性使用，其他进程必须等待</li>
          <li>请求和保持条件：请求资源未果，进程虽阻塞，但保持占有资源不放</li>
          <li>不可抢占条件（不剥夺条件）：进程已获资源未使用完之前不能被剥夺，只能在进程使用完时由自己释放</li>
          <li>循环等待条件：存在一个进程—资源的循环链，即<span class="katex--inline"><span class="katex"><span class="katex-mathml"> { P 0 , P 1 , … , P n } \lbrace P_0, P_1, \dots, P_n\rbrace </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{
                <!-- --></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: -0.1389em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: -0.1389em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.1514em;"><span class="" style="top: -2.55em; margin-left: -0.1389em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></span>中的P0等P1，P1等P2……</li>
         </ol> 
         <h4><a id="342__143"></a>3.4.2 预防死锁</h4> 
         <p>安全状态：指系统能按<strong>某种进程推进顺序</strong><span class="katex--inline"><span class="katex"><span class="katex-mathml"> ( P 1 , P 2 , … , P n ) (P_1, P_2, \dots, P_n) </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: -0.1389em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: -0.1389em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.1514em;"><span class="" style="top: -2.55em; margin-left: -0.1389em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>伪每个进程分配其资源，直至满足每个进程对资源的最大需求，使每个资源都能顺利完成。</p> 
         <h4><a id="343__146"></a>3.4.3 银行家算法</h4> 
         <p>（进入系统时）每个进程必须声明可能需要的每种资源类型的最大单元数目，不能超过总量；当进程开始请求一组资源时，系统必须首先确定是否有足够的资源分配给该进程，若有，<strong>进一步计算分配后是否处于不安全状态</strong>，如果不会，才真的进行分配。</p> 
         <h2><a id="__149"></a>第四章 存储器管理（内存管理）</h2> 
         <h3><a id="41__150"></a>4.1 程序的装入和链接</h3> 
         <ol>
          <li>绝对装入方式：知道程序驻留在内存的什么位置，编译产生绝对地址（物理地址）</li>
          <li>可重定位（静态重定位）装入方式：根据内存的具体情况将装入模块装入到适当位置，而后<strong>不再改变</strong>。</li>
          <li>动态重定位：不立即将装入模块中的逻辑抵制转换为物理地址，而是把地址转换任务留到程序真正开始执行时才进行。</li>
         </ol> 
         <h3><a id="42__155"></a>4.2 连续分配存储管理</h3> 
         <p>比较简单的内存管理模式，如果为了与分页、分段对仗，本方式应该叫做“分区”存储管理，将连续的内存划分为“空闲”和“进程占用”的两种区间。</p> 
         <h4><a id="421_First_Fit_157"></a>4.2.1 首次适应（First Fit）算法</h4> 
         <p>当一个作业到达时，从空闲分区链的链首开始顺序查找，直到找到一个大小能满足要求的分区为止。</p> 
         <h4><a id="422_Next_Fit_159"></a>4.2.2 循环首次适应（Next Fit）算法</h4> 
         <p>基于FF，改进为从上一次找到的空闲分区的下一个空闲分区开始查找，以减少查找开销。缺点是会缺少大的空闲分区。</p> 
         <h4><a id="423_Best_Fit_161"></a>4.2.3 最佳适应（Best Fit）算法</h4> 
         <p>每次分配内存找到能满足要求的最小空闲分区。</p> 
         <h4><a id="424_Worst_Fit_163"></a>4.2.4 最坏适应（Worst Fit）算法</h4> 
         <p>每次找到最大的空闲分区从中分割一块给作业使用。</p> 
         <h3><a id="43__165"></a>4.3 分页存储管理</h3> 
         <h4><a id="431__166"></a>4.3.1 页面和页表</h4> 
         <ol>
          <li>将进程内部的逻辑地址空间分成若干个<strong>页</strong>，将内存的物理地址空间分为若干个<strong>块</strong>，（实际上，<u>页的大小和块的大小是相等的、且存在<strong>一一对应关系</strong></u>，因此可以说没有页也没有块，都是“页面”），分配内存时，多个页可以离散地装入多个块中。页面大小太小会导致页表过长，太大会导致碎片增大，应为2的幂，通常1~8KB。</li>
          <li>分页地址结构如下：<br> <img src="https://i-blog.csdnimg.cn/blog_migrate/113cd882df6fe23ada3b1a7e837a802b.jpeg" alt="在这里插入图片描述"><br> 若给定一个逻辑地址空间内的地址为A，页面大小为L，则页号P和（页内偏移）地址d求为：<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> P = I N T [ A L ] , d = [ A ] M O D ( L ) P=INT[\frac{A}{L}], d=[A]MOD(L) </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 2.0463em; vertical-align: -0.686em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">I</span><span class="mord mathnormal" style="margin-right: 0.1389em;">NT</span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.3603em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathnormal">L</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathnormal">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">A</span><span class="mclose">]</span><span class="mord mathnormal" style="margin-right: 0.0278em;">MO</span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mclose">)</span></span></span></span></span></span><br> INT表示整除，MOD表示取余</li>
          <li>页表实现了从<mark>页号</mark>到<mark>物理块号</mark>的地址映射，其实就是记住哪个页放在哪个块了，如果没有页表的话处理机是不知道现在在哪个块的。<br> <img src="https://i-blog.csdnimg.cn/blog_migrate/d5e9a683e7bb8b9173ed11af5dff9782.jpeg" alt="在这里插入图片描述"></li>
         </ol> 
         <h4><a id="432__174"></a>4.3.2 访存时间与快表</h4> 
         <p>根据逻辑地址求物理地址：</p> 
         <ol>
          <li>按<span class="katex--inline"><span class="katex"><span class="katex-mathml"> P = I N T [ A L ] , d = [ A ] M O D ( L ) P=INT[\frac{A}{L}], d=[A]MOD(L) </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">P</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1.2173em; vertical-align: -0.345em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">I</span><span class="mord mathnormal" style="margin-right: 0.1389em;">NT</span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8723em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.345em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">A</span><span class="mclose">]</span><span class="mord mathnormal" style="margin-right: 0.0278em;">MO</span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mclose">)</span></span></span></span></span>求出页号和页内偏址</li>
          <li>物理块号查询页表</li>
          <li>物理地址=物理块号*页面大小+页内偏址</li>
         </ol> 
         <p>引入页表后，访问代码和数据的时间增加了，在直接根据物理地址读写存储器（1次访存）的基础上增加了查询页表的过程（2次访存），因此使用<strong>快表</strong>（Translation Look aside Buffer）进行优化，TLB是一种高速缓存，存储了<strong>最近访问过的</strong>虚拟地址到物理地址的映射，以免频繁地访问（内存中的）页表。<br> 引入快表后：<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 平均访问时间 = 命中率 × 快表检索时间 + 未命中率 × 内存访问时间 平均访问时间=命中率\times 快表检索时间+未命中率\times 内存访问时间 </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord cjk_fallback">平均访问时间</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord cjk_fallback">命中率</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord cjk_fallback">快表检索时间</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord cjk_fallback">未命中率</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord cjk_fallback">内存访问时间</span></span></span></span></span></span></p> 
         <h4><a id="433__182"></a>4.3.3 两级多级页表</h4> 
         <p>单级页表中所有的页表项都存储在一个大表中，若地址空间很大则整个页表会非常庞大占据大量内存，为此引入二级和多级页表。<br> <img src="https://i-blog.csdnimg.cn/blog_migrate/8bbb32565681674346c9fc08d25dfbd1.png" alt="在这里插入图片描述"></p> 
         <h3><a id="44__186"></a>4.4 分段存储管理</h3> 
         <p>在分段存储管理中，程序被划分为若干段，每个段有自己的逻辑地址空间，长度可以不同。<br> <img src="https://i-blog.csdnimg.cn/blog_migrate/e6d2d124c82e99ec032e91b1c73f446e.jpeg" alt="在这里插入图片描述"></p> 
         <ol>
          <li><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 逻辑地址 = 段号（拼接）段内偏移地址 逻辑地址=段号（拼接）段内偏移地址 </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord cjk_fallback">逻辑地址</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord cjk_fallback">段号（拼接）段内偏移地址</span></span></span></span></span></li>
          <li><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 物理地址 = 段基址 + 段内偏移地址 物理地址=段基址+段内偏移地址 </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord cjk_fallback">物理地址</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord cjk_fallback">段基址</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord cjk_fallback">段内偏移地址</span></span></span></span></span></li>
         </ol> 
         <h4><a id="441__192"></a>4.4.1 信息共享</h4> 
         <p>分段系统的有点是易于实现段的共享，允许若干个进程共享一个或多个分段，对段的保护也简单易行。</p> 
         <p>可重入码：一种允许多个进程<strong>同时访问</strong>，但不允许任何进程对其进行<strong>修改</strong>的代码。</p> 
         <h4><a id="442__196"></a>4.4.2 段页式存储管理</h4> 
         <p>首先将用户程序分成若干段（视为子程序），而后再将每个段划分为若干页。<br> <img src="https://i-blog.csdnimg.cn/blog_migrate/b37a98e9d9dc80cbbc5ac9f0fdbd5b39.png" alt="在这里插入图片描述"><br> <img src="https://i-blog.csdnimg.cn/blog_migrate/c3d309d03f04f39cebf3c555883bd140.png" alt="在这里插入图片描述"></p> 
         <h2><a id="__201"></a>第五章 虚拟存储器</h2> 
         <p>虚拟存储器扩展了程序的地址空间，使其包括了比物理内存更大的范围。程序认为它在使用整个地址空间，而实际上只有部分数据和指令在物理内存中。<br> 虚拟存储器的特征：多次性、对换性、虚拟性</p> 
         <h3><a id="51__204"></a>5.1 分页请求系统</h3> 
         <p>请求分页存储管理是虚拟存储技术中的一种实现方式，核心思想是只有在程序访问某个页面时，该页面才会被装入物理内存，而不是一次性的整个加载。</p> 
         <h4><a id="511__206"></a>5.1.1 请求页表机制</h4> 
         <p>请求分页系统中的页表结构如下：<br> <img src="https://i-blog.csdnimg.cn/blog_migrate/b30a06cc901133619c4bf9251cf38427.jpeg" alt="在这里插入图片描述"><br> 各字段说明如下：</p> 
         <ol>
          <li>状态位（存在位）P：指示该页是否已经调入内存</li>
          <li>访问字段A：用于记录本页在一段时间内访问的次数，供调换算法参考</li>
          <li>修改位M：标识该页是否被修改过（如没有修改过就不需要写回外存）</li>
          <li>外存地址：通常是物理块号，指出在外存上的地址</li>
         </ol> 
         <h4><a id="512__214"></a>5.1.2 缺页中断处理</h4> 
         <p>缺页中断发生在虚拟界面需要访问但<strong>尚未加载</strong>到物理内存时<br> <img src="https://i-blog.csdnimg.cn/blog_migrate/5c6bb2e4b0e279e00fd1b7e08e100766.png" alt="在这里插入图片描述"></p> 
         <h3><a id="52__218"></a>5.2 页面置换算法</h3> 
         <p>在虚拟存储系统中，若访问的页面不在内存，则需要将其调入，若无空闲空间则需要将已有页面调出，此时需要控制页面置换的算法。</p> 
         <h4><a id="521_Optimal_221"></a>5.2.1 最佳（Optimal）置换算法</h4> 
         <p>是<strong>理论上</strong>的算法，选择在未来最长时间内不再被访问的页面进行替换（淘汰），最佳算法可以达到最小的缺页率，但实际应用中很难实现。</p> 
         <h4><a id="522_FIFO_223"></a>5.2.2 先进先出（FIFO）页面置换算法</h4> 
         <p>是最早出现的置换算法，选择<strong>最早进入内存</strong>的页面进行替换，即<mark>最先被调入内存的页面最先被替换出去</mark>。<br> 实现：使用一个队列（缓冲区），每当页面被调入内存时进入对位；需要进行置换时则选择队首进行替换。<br> 缺点：不考虑页面访问的时间顺序，增加页面数可能导致缺页率升高。</p> 
         <h4><a id="523_Least_Recently_Used_227"></a>5.2.3 最近最久未使用（Least Recently Used）置换算法</h4> 
         <p>LRU选择<strong>最近（当前）最久未使用</strong>的页面进行替换，可以通过寄存器、栈来实现，不断按照访问顺序更新目前最久未使用的页面。</p> 
         <h4><a id="524_Least_Frequently_Used_229"></a>5.2.4 最少使用（Least Frequently Used）置换算法</h4> 
         <p>LFU根据<strong>频率上</strong>最少使用的页面来进行替换，数据结构上只需要计数器（移位寄存器）来实现。<br> LFU的页面访问图与LRU完全相同，认为LRU是较好的算法用的更多。</p> 
         <h4><a id="525_CLOCK_232"></a>5.2.5 时钟（CLOCK）置换算法</h4> 
         <p>Clock算法是一种近似的LRU算法，定期扫描内存中的所有页面，若该页面先前被访问过，则重置其<strong>标志位</strong>；若该页面未被访问过，则选择它置换。<br> 改进的Clock算法把标志位细化为<strong>访问位A</strong>和<strong>修改位M</strong>，将页面分为：</p> 
         <ol>
          <li>A=0、M=0，最佳淘汰页</li>
          <li>A=0、M=1，最近未被访问，但已被修改</li>
          <li>A=1、M=0</li>
          <li>A=1、M=1<br> 首先扫描<strong>但不重置A</strong>，若找到1类页面则置换<br> 若未找到1类页面，重新扫描<strong>且重置A</strong>，将第一个找到的2类页面置换<br> 若还没有找到，则重复1~2，一定能找到<br> Clock算法又被叫做最近未使用（Not Recently Used，NRU）算法。</li>
         </ol> 
         <h3><a id="53__243"></a>5.3 页面抖动与缓冲</h3> 
         <h4><a id="531__244"></a>5.3.1 缺页</h4> 
         <p>缺页率是指在虚拟存储系统中，程序访问的页面中有多少不存在于当前物理内存中而<strong>需要从磁盘中调入</strong>的比例，计算为<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 缺页率 = 缺页次数 访问总次数 缺页率=\frac{缺页次数}{访问总次数} </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord cjk_fallback">缺页率</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 2.0463em; vertical-align: -0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.3603em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord cjk_fallback">访问总次数</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord cjk_fallback">缺页次数</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span><br> <strong>抖动（Thrashing</strong>）是指系统在不断地进行页面置换，却无法有效提高程序的性能，反而导致了额外的开销；缺页导致用于进程请求调页的时间极大增加，进程执行效率大为下降</p> 
         <h4><a id="532_Page_Buffering_Algorithm_247"></a>5.3.2 页面缓冲算法（Page Buffering Algorithm）</h4> 
         <p>当需要置换页面时，采用<strong>FIFO</strong>从所有已分配页面中选择最先进入的页面淘汰，该淘汰页进入<strong>空闲页面队列</strong>（缓冲区）<br> 缺页读入时从空闲队列寻找，如果一段时间后没有再次使用，则依次淘汰；否则装入。</p> 
         <h2><a id="__250"></a>第六章 设备管理</h2> 
         <h3><a id="61_IO_252"></a>6.1 I/O组成与控制</h3> 
         <h4><a id="611_IO_253"></a>6.1.1 I/O分类</h4> 
         <ol>
          <li>按数据传输速率分类：高速、中速、低速设备</li>
          <li>按<strong>信息交换单位</strong>分类：<mark>块设备（传输速率高、可寻址、DMA实现）、字符设备（传输速率低、不可寻址、中断实现）</mark></li>
          <li>按设备共享属性分类：独占设备、共享设备、虚拟设备</li>
         </ol> 
         <h4><a id="612__258"></a>6.1.2 设备控制器</h4> 
         <p>有这么个东西。<br> 功能：接受识别命令、数据交换、标识报告设备状态、地址识别、数据缓冲、差错控制。</p> 
         <h4><a id="613_IO_261"></a>6.1.3 I/O通道</h4> 
         <p>I/O通道是一种特殊的、简单的处理机，他与CPU共享内存，负责执行I/O指令，引入的目的时提高I/O过程的独立性，使得数据的传送能独立于CPU，CPU仅通过执行单条简单的通道I/O程序来控制输入输出操作。<br> 通道类型：</p> 
         <ol>
          <li>字节多路通道：指一种通过在一个通信信道上传输<strong>多个不同字节流</strong>的机制。这种通道可以在同一时间段内传输给多个输出设备，<strong>不适用于高速设备</strong>。</li>
          <li>数组选择通道：操作系统会维护一个数组，数组的每个元素对应一个 I/O 操作。当其中某个 I/O 操作完成时，操作系统会通过数组索引来选择相应的操作进行处理。<strong>每次只允许一个设备传输数据，通常链接高速设备</strong>。</li>
          <li>数组多路通道：通过一个数组同时处理多个通信通道。数组的每个元素可能代表一个不同的通道或 I/O 操作。通过适当的算法，可以轮流处理数组中的不同元素，实现多个通信通道的复用。<strong>可以分别链接到高速、中速设备</strong>。</li>
         </ol> 
         <h4><a id="614_IO_268"></a>6.1.4 I/O控制方式</h4> 
         <ol>
          <li>程序I/O控制方式：对输入设备进行轮询，忙则等待。</li>
          <li>中断驱动I/O控制方式：通过中断机制实现。</li>
          <li>直接存储器访问控制方式：以块为数据传输单位，通过DMA控制器实现</li>
          <li>I/O通道控制方式：是DMA方式的发展，进一步减少CPU干预，实现CPU、I/O通道、I/O设备的并行操作。</li>
         </ol> 
         <h3><a id="62__273"></a>6.2 缓冲管理</h3> 
         <p>为平衡CPU和I/O设备间速度不匹配的矛盾、减少CPU的中断频率、放宽CPU中断响应时间的限制，引入缓冲区。<br> <mark>设从磁盘读入一块数据到<strong>缓冲区</strong>的时间为T，将数据再传送至用户区的时间为M，CPU对其<strong>数据处理</strong>的时间为C</mark></p> 
         <h4><a id="621__276"></a>6.2.1 单缓冲</h4> 
         <p>每当有I/O请求，则从内存分配缓冲区，T、C是并行的，每一块数据处理时间表示为<span class="katex--inline"><span class="katex"><span class="katex-mathml"> M a x ( C , T ) + M Max(C,T) + M </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">T</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span>，多块数据则求和。</p> 
         <h4><a id="622__278"></a>6.2.2 多缓冲</h4> 
         <p>缓冲区是<strong>共享资源</strong>，生产者与消费者对缓冲区必须<strong>互斥</strong>，因此引入了双缓冲区机制，每一块数据处理时间为<span class="katex--inline"><span class="katex"><span class="katex-mathml"> M a x ( C + M , T ) Max(C+M,T) </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">T</span><span class="mclose">)</span></span></span></span></span>，即要么输入更快缓冲区一直有存货（C+M&gt;T），要么每次都要等待新的数据进来（T&gt;C+M）。</p> 
         <h4><a id="623__280"></a>6.2.3 循环缓冲</h4> 
         <p>缓冲区循环连接</p> 
         <h4><a id="624__282"></a>6.2.4 缓冲池</h4> 
         <p>缓冲池管理多个缓冲区</p> 
         <h3><a id="63__284"></a>6.3 设备分配</h3> 
         <p>设备分配是将设备分配给请求进程的使用。<br> 设备独立性：用户编程时使用的设备与实际使用的设备无关，用户程序在进行输入/输出的时候，不需要考虑具体的输入/输出设备，而可以用一种通用的方式进行输入/输出。</p> 
         <h3><a id="631_DCT_287"></a>6.3.1 设备控制表DCT</h3> 
         <p>包括：</p> 
         <ol>
          <li>设备队列队首指针</li>
          <li>忙/闲标志：当前设备是否空闲</li>
          <li>与设备链接的控制器表指针</li>
          <li>重复执行次数：若超过该次数则认为数据传送失败</li>
          <li>设备类型</li>
          <li>设备标识符</li>
         </ol> 
         <h4><a id="632__296"></a>6.3.2 设备固有属性</h4> 
         <ol>
          <li>独占设备：仅分配给一个进程</li>
          <li>共享设备：可以同时分配给多个进程，进行合理调度</li>
          <li>虚拟设备：属于可共享设备。</li>
         </ol> 
         <h4><a id="633__301"></a>6.3.3 分配算法</h4> 
         <ol>
          <li>FCFS</li>
          <li>优先级</li>
         </ol> 
         <h4><a id="634_Simultaneous_Peripheral_Operation_OnLine_305"></a>6.3.4 假脱机技术（Simultaneous Peripheral Operation On-Line）</h4> 
         <p>SPOOLing是将耗时的I/O操作从主要的计算机任务中分离出来，使它们在后台异步进行。<br> SPOOLing由输入输出井、输入输出缓冲区、输入输出进程、请求输入输出队列组成<br> 优点：</p> 
         <ol>
          <li>提高了I/O速度</li>
          <li>将独占设备改造为共享设备</li>
          <li>实现了虚拟设备功能</li>
         </ol> 
         <h3><a id="64__312"></a>6.4 磁盘存储器</h3> 
         <h4><a id="641__313"></a>6.4.1 磁盘访问时间构成</h4> 
         <ol>
          <li>寻道时间<span class="katex--inline"><span class="katex"><span class="katex-mathml"> T s T_s </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.1389em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.1514em;"><span class="" style="top: -2.55em; margin-left: -0.1389em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>：<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> T s = m × n + s T_s=m\times n + s </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.1389em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.1514em;"><span class="" style="top: -2.55em; margin-left: -0.1389em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span></span></span>启动磁臂时长s，m是常数，n是磁头移动了多少磁道</li>
          <li>旋转延迟时间<span class="katex--inline"><span class="katex"><span class="katex-mathml"> T r T_{r} </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.1389em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.1514em;"><span class="" style="top: -2.55em; margin-left: -0.1389em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right: 0.0278em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>：指定扇区旋转到磁头下面所经历的时间</li>
          <li>数据传输时间<span class="katex--inline"><span class="katex"><span class="katex-mathml"> T t T_t </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.1389em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.2806em;"><span class="" style="top: -2.55em; margin-left: -0.1389em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>：<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> T t = 字节数 每秒钟转数 × 一条磁带上的字节数 T_t=\frac{字节数}{每秒钟转数\times 一条磁带上的字节数} </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.1389em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.2806em;"><span class="" style="top: -2.55em; margin-left: -0.1389em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 2.1297em; vertical-align: -0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.3603em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord cjk_fallback">每秒钟转数</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mord cjk_fallback">一条磁带上的字节数</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord cjk_fallback">字节数</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.7693em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span></li>
         </ol> 
         <h4><a id="642__318"></a>6.4.2 磁盘调度</h4> 
         <p>目标：使平均访问时间（主要是寻道时间<span class="katex--inline"><span class="katex"><span class="katex-mathml"> T s T_s </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.1389em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.1514em;"><span class="" style="top: -2.55em; margin-left: -0.1389em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>）最小<br> 调度算法：</p> 
         <ol>
          <li>FCFS：优点公平简单都能得到处理，缺点随机分布寻道时间长</li>
          <li>最短寻道时间优先调度算法SSTF：每次选择访问的磁道与磁头当前所在磁道距离最近，优点是寻道性能好，缺点可能导致饥饿</li>
          <li>扫描算法（电梯调度算法）SCAN：当磁头向外移动时，优先访问更外面且寻道最短的，直到没有了才向里移动，反方向亦然，优点即获得较好寻道性能，又防止饥饿</li>
          <li>循环扫描算法CSCAN：从双向扫描改为单向扫描，即扫描到最外的磁道后立即返回最里面请求的磁道，再向外扫描</li>
          <li>N-step-SCAN：将请求队列分为若干个子队列长度为N，队列层面使用FCFS，队列内部使用SCAN</li>
          <li>FSCAN：N-step-SCAN的简化，只有两个队列，一个是当前所有请求，另一个是扫描期间新出现的请求，所有新请求推迟到下一次扫描</li>
         </ol> 
         <h2><a id="__327"></a>第七章 文件管理</h2> 
         <p>文件：由创建者定义的<strong>采用名称</strong>进行管理的一组数据的集合。<br> 文件管理的目标：方便用户保证安全、存取快速（时间效率）、资源利用（空间效率）<br> 文件管理功能：提供文件存取、共享、保护手段</p> 
         <h3><a id="71__331"></a>7.1 文件系统</h3> 
         <h4><a id="711__332"></a>7.1.1 文件分类</h4> 
         <ol>
          <li> <p>按有无结构</p> 
           <ul>
            <li>有结构文件分为定长记录和变长记录</li>
            <li>无结构文件即流式文件，长度以字节为单位。</li>
           </ul> </li>
          <li> <p>按组织方式把有结构文件分成</p> 
           <ul>
            <li>顺序文件：按某种顺序排列，可以定长或变长</li>
            <li>索引文件：为变长记录建立索引表，加快检索</li>
            <li>索引顺序文件：为一组记录中的第一个记录建立索引表项</li>
           </ul> </li>
          <li> <p>检索开销比较</p> 
           <ul>
            <li>顺序文件组织方式<span class="katex--inline"><span class="katex"><span class="katex-mathml"> ( N + 1 ) / 2 (N+1)/2 </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord">/2</span></span></span></span></span></li>
            <li>索引文件组织方式<span class="katex--inline"><span class="katex"><span class="katex-mathml"> ( N + 1 ) / 2 (N+1)/2 </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord">/2</span></span></span></span></span></li>
            <li>索引顺序文件组织方式<span class="katex--inline"><span class="katex"><span class="katex-mathml"> N + 1 \sqrt{N}+1 </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.04em; vertical-align: -0.1133em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.9267em;"><span class="svg-align" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord" style="padding-left: 0.833em;"><span class="mord mathnormal" style="margin-right: 0.109em;">N</span></span></span><span class="" style="top: -2.8867em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail" style="min-width: 0.853em; height: 1.08em;"> 
                       <svg width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"> 
                        <path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path> 
                       </svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.1133em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span></li>
           </ul> </li>
         </ol> 
         <h3><a id="72__347"></a>7.2 文件存储空间管理</h3> 
         <h4><a id="721__348"></a>7.2.1 连续分配</h4> 
         <p>优点：顺序访问容易、速度快；支持直接存取<br> 缺点：要求连续存储空间，空间利用率低；必须事先知道文件的长度</p> 
         <h4><a id="722__351"></a>7.2.2 链接分配</h4> 
         <p>离散分配方式，通过盘块上的指针实现链接<br> 优点：消除外部碎片，外存空间利用率高；按需分配，无需事先知道文件长度；支持文件动态增长，方便增删改<br> 缺点：隐式链接只适合顺序访问，随机存取很低效；只要有一个指针出现问题就断开，可靠性差<br> 解决：文件分配表FAT</p> 
         <h4><a id="723__356"></a>7.2.3 索引分配</h4> 
         <p>FAT占用内存较大，盘块号随机。<br> 打开文件，只需要将该文件所占用的盘块编号调入内存即可，故把每个文件对应盘块号形成索引表<br> 缺点：小文件利用率低</p> 
         <h3><a id="73__360"></a>7.3 空闲管理</h3> 
         <h4><a id="731__361"></a>7.3.1 空闲表法</h4> 
         <p>属于连续分配方式，空闲盘区分配采用FCFS、NF、BF、WF适应算法</p> 
         <h4><a id="732__363"></a>7.3.2 空闲链表法</h4> 
         <p>所有空闲盘块区域形成一条空闲链，以盘块为基本单元链接<br> 提高检索速度，可采用显式链接</p> 
         <h4><a id="733__366"></a>7.3.3 位示图</h4> 
         <p><img src="https://i-blog.csdnimg.cn/blog_migrate/65899aba137bb7cd3eda1105c44f0604.png" alt="在这里插入图片描述"><br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> M a p [ i , j ] ↔ 块号 b = n ( i − 1 ) + j − 1 Map[i,j]\leftrightarrow 块号b = n(i-1)+j-1 </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span><span class="mord mathnormal">a</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.0572em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">↔</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord cjk_fallback">块号</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span class="mord mathnormal" style="margin-right: 0.0572em;">j</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span></span></p> 
         <h4><a id="734__370"></a>7.3.4 成组链接法</h4> 
         <h3><a id="74__371"></a>7.4 文件目录</h3> 
         <p>文件目录管理：</p> 
         <ol>
          <li>实现<strong>按名存取</strong></li>
          <li>提高目录检索速度及文件存取速度</li>
          <li>文件共享（外村保留一份文件副本）</li>
          <li>允许文件重名</li>
         </ol> 
         <h4><a id="741_FCB_378"></a>7.4.1 FCB、索引节点</h4> 
         <ol>
          <li>文件控制块FCB通常含有三类信息：基本信息、存取控制及使用信息 
           <ul>
            <li>基本信息：文件名、文件物理位置、文件逻辑结构、文件物理结构</li>
            <li>存取控制信息：权限</li>
            <li>使用信息：修改时间、打开该文件的进程数</li>
           </ul> </li>
          <li>索引节点（Inode）：为了减少检索的开销 
           <ul>
            <li>磁盘索引节点：存放在磁盘上的索引节点，每个文件有唯一的一个，有文件主标识符、文件类型、……</li>
            <li>内存索引节点：从磁盘拷贝到内存</li>
           </ul> </li>
         </ol> 
         <h4><a id="742__386"></a>7.4.2 目录结构</h4> 
         <ol>
          <li> <p>单级目录：缺点查找速度慢、不允许重名、不便于共享<img src="https://i-blog.csdnimg.cn/blog_migrate/0f3d3d8c0962436d1a85af39dd6bbb31.png" alt="在这里插入图片描述"></p> </li>
          <li> <p>两级目录：优点提高了检索速度（单级目录最多检索n*m，多级目录最多检索n+m）、不同目录可以使用同文件名、不同用户可以不同名称访问同一共享文件，缺点用户隔离不便于共享协作<img src="https://i-blog.csdnimg.cn/blog_migrate/668ca3d66890553c1265cd3f416e2b4d.png" alt="在这里插入图片描述"></p> </li>
          <li> <p>树形目录：满足目录管理的所有要求</p> </li>
         </ol> 
         <h4><a id="734__393"></a>7.3.4 目录查询</h4> 
         <ol>
          <li>线性（顺序）检索法</li>
          <li>散列方法</li>
         </ol> 
         <h3><a id="74__396"></a>7.4 文件共享与保护</h3> 
         <h4><a id="741__397"></a>7.4.1 基于索引节点的文件共享</h4> 
         <p>没有索引节点：造成FCB在不同目录文件中的拷贝、一旦文件改变则难以保证一致性、存在指针悬空问题<br> 有索引节点：当删除文件，索引节点也被删除，则不会出现上述情况</p> 
         <h4><a id="742__400"></a>7.4.2 利用符号链实现共享</h4> 
         <p>允许一个文件或子目录有多个父目录，但仅有一个作为主父目录其他都是通过符号链接方式访问的。<br> 优点：只有文件主才拥有索引节点，因此避免指针悬空；可用于链接网络中任何计算机的文件<br> 缺点：增加系统开销，造成多次读盘和磁盘启动、符号链具有索引节点的开销、遍历操作的复杂度加大</p> 
         <h4><a id="743__404"></a>7.4.3 安全保护</h4> 
         <ol>
          <li>系统级安全管理</li>
          <li>用户级安全管理</li>
          <li>目录级安全管理</li>
          <li>文件级安全管理</li>
         </ol> 
         <h4><a id="745__410"></a>7.4.5 磁盘容错技术</h4> 
         <p>设置冗余部件以提高可靠性</p> 
         <ol>
          <li>低级容错技术SFT-Ⅰ</li>
          <li>中级容错技术SFT-Ⅱ</li>
         </ol> 
         <h4><a id="746__415"></a>7.4.6 数据一致性控制</h4> 
         <p>当一个数据被分别存储到多个文件中会出现一致性问题<br> <strong>事务</strong>：用于访问和修改各种数据项的一个程序单位<br> <strong>检查点</strong>：使对事务记录清理工作经常化，减少恢复开销</p> 
        </div> 
        <link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-a5d25dd831.css" rel="stylesheet"> 
        <link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-e504d6a974.css" rel="stylesheet"> 
       </div> 
      </article>   
      <img src="https://img-home.csdnimg.cn/images/20211209110851.png" alt="pdf_watermark" width="0" height="0" style="display: none"> 
      <div class="print_watermark"></div> 
      <div class="print_watermark_info"> 
       <p>内容来源：csdn.net</p> 
       <p>作者昵称：11egativ1ty</p> 
       <p>原文链接：https://blog.csdn.net/2301_76616273/article/details/135329820</p> 
       <p>作者主页：https://blog.csdn.net/2301_76616273</p> 
      </div> 
      <style>
    .print_watermark, .print_watermark_info {
      display: none
    }
    @media print {
      body {
        -webkit-print-color-adjust: exact; /* Chrome, Safari */
        color-adjust: exact; /* Firefox */
        background-image: none !important;
      }
      * {
        -webkit-print-color-adjust: exact;
      }
      .blog-content-box {
        padding: 0;
      }
      .blog-content-box .article-header .article-info-box > div:not(.article-bar-top){
        display: none !important;
      }
      .blog-content-box .article-header .article-info-box  .article-bar-top img{
          display:none
      }
      .blog-content-box .article-header .article-info-box > .article-bar-top .bar-content > *:not(.follow-nickName):not(.time){
          display: none !important;
      }
      .print_watermark {
        display: block;
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        z-index: 999;
        background-image: url('https://img-home.csdnimg.cn/images/20211209110851.png');
        background-size: 180px auto;
        background-repeat: repeat;
      }
      .print_watermark_info {
        display: block;
        position: fixed;
        bottom: 16px;
        right: 0;
        z-index: 1000;
        color: #e8e8ed;
        font-size: 12px;
        ocapity: .5
      }
      @page {
        margin: 0 10mm 10mm;
        size: landscape;
      }
      body, article {
        width: 100%;
        margin: 0;
        padding: 0;
      }
      #csdn-toolbar,.main_father > *:not(#mainBox), .csdn-side-toolbar, .main_father aside {
        display: none !important;
      }
      .main_father > #mainBox {
        width: unset
      }
      .main_father > #mainBox > main > *:not(.blog-content-box){
        display: none !important;
      }
    }
  </style> 
     </div> 
     <div class="directory-boxshadow-dialog" style="display:none;"> 
      <div class="directory-boxshadow-dialog-box"> 
      </div> 
      <div class="vip-limited-time-offer-box-new" id="vip-limited-time-offer-box-new"> 
       <img class="limited-img limited-img-new" src="https://csdnimg.cn/release/blogv2/dist/pc/img/vip-limited-close-newWhite.png"> 
       <div class="vip-limited-time-top">
         确定要放弃本次机会？ 
       </div> 
       <span class="vip-limited-time-text">福利倒计时</span> 
       <div class="limited-time-box-new"> 
        <span class="time-hour"></span> 
        <i>:</i> 
        <span class="time-minite"></span> 
        <i>:</i> 
        <span class="time-second"></span> 
       </div> 
       <div class="limited-time-vip-box"> 
        <p> <img class="coupon-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/vip-limited-close-roup.png"> <span class="def">立减 ¥</span> <span class="active limited-num"></span> </p> 
        <span class="">普通VIP年卡可用</span> 
       </div> 
       <a class="limited-time-btn-new" href="https://mall.csdn.net/vip" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.9621&quot;}" data-report-query="spm=1001.2101.3001.9621">立即使用</a> 
      </div> 
     </div> 
     <div class="more-toolbox-new more-toolbar" id="toolBarBox"> 
      <div class="left-toolbox"> 
       <div class="toolbox-left"> 
        <div class="profile-box"> 
         <a class="profile-href" target="_blank" href="https://blog.csdn.net/2301_76616273"><img class="profile-img" src="https://profile-avatar.csdnimg.cn/514aaa29c5a24dd2b070b1dd2a05b149_2301_76616273.jpg!1"> <span class="profile-name"> 11egativ1ty </span> </a> 
        </div> 
        <div class="profile-attend"> 
         <a class="tool-attend tool-bt-button tool-bt-attend" href="javascript:;" data-report-view="{&quot;mod&quot;:&quot;1592215036_002&quot;,&quot;spm&quot;:&quot;1001.2101.3001.4232&quot;,&quot;extend1&quot;:&quot;已关注&quot;}">已关注</a> 
         <a class="tool-item-follow active-animation" style="display:none;">已关注</a> 
        </div> 
       </div> 
       <div class="toolbox-middle"> 
        <ul class="toolbox-list"> 
         <li class="tool-item tool-item-size tool-active is-like" id="is-like" data-type="bottom"> <a class="tool-item-href"> <img style="display:none;" id="is-like-imgactive-animation-like" class="animation-dom active-animation" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarThumbUpactive.png" alt=""> <img class="isactive" style="display:none" id="is-like-imgactive" src="https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/like-active.png" alt=""> <img class="isdefault" style="display:block" id="is-like-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/like.png" alt=""> <span id="spanCount" class="count "> 28 </span> </a> 
          <div class="tool-hover-tip">
           <span class="text space">点赞</span>
          </div> </li> 
         <li class="tool-item tool-item-size tool-active is-unlike" id="is-unlike"> <a class="tool-item-href"> <img class="isactive" style="margin-right:0px;display:none" id="is-unlike-imgactive" src="https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/unlike-active.png" alt=""> <img class="isdefault" style="margin-right:0px;display:block" id="is-unlike-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/unlike.png" alt=""> <span id="unlikeCount" class="count "></span> </a> 
          <div class="tool-hover-tip">
           <span class="text space">踩</span>
          </div> </li> 
         <li class="tool-item tool-item-size tool-active is-collection "> <a class="tool-item-href" href="javascript:;" data-report-click="{&quot;mod&quot;:&quot;popu_824&quot;,&quot;spm&quot;:&quot;1001.2101.3001.4130&quot;,&quot;ab&quot;:&quot;new&quot;}"> <img style="display:none" id="is-collection-img-collection" class="animation-dom active-animation" src="https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/collect-active.png" alt=""> <img class="isdefault" id="is-collection-img" style="display:block" src="https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/collect.png" alt=""> <img class="isactive" id="is-collection-imgactive" style="display:none" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newCollectActive.png" alt=""> <span class="count get-collection " data-num="59" id="get-collection"> 59 </span> </a> 
          <div class="tool-hover-tip collect"> 
           <div class="collect-operate-box"> 
            <span class="collect-text" id="is-collection"> 收藏 </span> 
           </div> 
          </div> 
          <div class="tool-active-list"> 
           <div class="text">
             觉得还不错? 
            <span class="collect-text" id="tool-active-list-collection"> 一键收藏 </span> 
            <img id="tool-active-list-close" src="https://csdnimg.cn/release/blogv2/dist/pc/img/collectionCloseWhite.png" alt=""> 
           </div> 
          </div> </li> 
         <li class="tool-item tool-item-size tool-active tool-item-comment"> 
          <div class="guide-rr-first"> 
           <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/guideRedReward01.png" alt=""> 
           <button class="btn-guide-known">知道了</button> 
          </div> <a class="tool-item-href go-side-comment" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.7009&quot;}"> <img class="isdefault" src="https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/comment.png" alt=""> <span class="count"> 0 </span> </a> 
          <div class="tool-hover-tip">
           <span class="text space">评论</span>
          </div> </li> 
         <li class="tool-item tool-item-size tool-active tool-QRcode" data-type="article" id="tool-share"> <a class="tool-item-href" href="javascript:;" data-report-view="{&quot;spm&quot;:&quot;3001.4129&quot;,&quot;extra&quot;:{&quot;type&quot;:&quot;blogdetail&quot;}}"> <img class="isdefault" src="https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/share.png" alt=""> <span class="count">分享</span> </a> 
          <div class="QRcode" id="tool-QRcode"> 
           <div class="share-bg-box"> 
            <div class="share-content"> 
             <a id="copyPosterUrl" data-type="link" class="btn-share">复制链接</a> 
            </div> 
            <div class="share-content"> 
             <a class="btn-share" data-type="qq">分享到 QQ</a> 
            </div> 
            <div class="share-content"> 
             <a class="btn-share" data-type="weibo">分享到新浪微博</a> 
            </div> 
            <div class="share-code"> 
             <div class="share-code-box" id="shareCode"></div> 
             <div class="share-code-text"> 
              <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/share/icon-wechat.png" alt="">扫一扫 
             </div> 
            </div> 
           </div> 
          </div> </li> 
         <li class="tool-item tool-item-size tool-active tool-downloadpdf" id="tool-downloadpdf"> <a class="tool-item-href" data-report-click="{&quot;spm&quot;:&quot;3001.6881&quot;,&quot;extra&quot;:&quot;{\&quot;type\&quot;:\&quot;hide\&quot;}&quot;}" data-report-view="{&quot;spm&quot;:&quot;3001.6881&quot;,&quot;extra&quot;:&quot;{\&quot;type\&quot;:\&quot;hide\&quot;}&quot;}"> <img class="isdefault" src="https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/pdf.png" alt=""> </a> 
          <div class="tool-hover-tip">
           <span class="text">导出PDF</span>
          </div> </li> 
         <li class="tool-item tool-item-size tool-active is-more" id="is-more"> <a class="tool-item-href"> <img class="isdefault" style="margin-right:0px;display:block" src="https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/more.png" alt=""> <span class="count"></span> </a> 
          <div class="more-opt-box"> 
           <div class="mini-box"> 
            <a class="tool-item-href" data-report-click="{&quot;spm&quot;:&quot;3001.6881&quot;,&quot;extra&quot;:&quot;{\&quot;type\&quot;:\&quot;hide\&quot;}&quot;}" data-report-view="{&quot;spm&quot;:&quot;3001.6881&quot;,&quot;extra&quot;:&quot;{\&quot;type\&quot;:\&quot;hide\&quot;}&quot;}"> <img class="isdefault" src="https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/pdf.png" alt=""> <span class="count">导出PDF</span> </a> 
            <a class="tool-item-href" id="toolReportBtnHide"> <img class="isdefault" src="https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/report.png" alt=""> <span class="count">举报</span> </a> 
           </div> 
           <div class="normal-box"> 
            <a class="tool-item-href" id="toolReportBtnHideNormal"> <img class="isdefault" src="https://csdnimg.cn/release/blogv2/dist/pc/img/toolbar/report.png" alt=""> <span class="count">举报</span> </a> 
           </div> 
          </div> </li> 
        </ul> 
       </div> 
       <div class="toolbox-right"> 
       </div> 
      </div> 
     </div>    
     <a id="commentBox" name="commentBox"></a> 
    </main> 
   </div> 
   <div class="recommend-right1  align-items-stretch clearfix" id="rightAsideConcision" data-type="recommend"> 
    <aside class="recommend-right_aside"> 
     <div id="recommend-right-concision"> 
      <div class="flex-column aside-box groupfile" id="groupfileConcision"> 
       <div class="groupfile-div1"> 
        <h3 class="aside-title">目录</h3> 
        <div class="align-items-stretch group_item"> 
         <div class="pos-box"> 
          <div class="scroll-box"> 
           <div class="toc-box"></div> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
     </div> 
    </aside> 
   </div> 
  </div> 
  <div class="mask-dark"></div> 
  <div class="skin-boxshadow"></div> 
  <div class="directory-boxshadow"></div> 
  <div style="display:none;"> 
   <img src="" onerror="setTimeout(function(){if(!/(csdn.net|iteye.com|baiducontent.com|googleusercontent.com|360webcache.com|sogoucdn.com|bingj.com|baidu.com)$/.test(window.location.hostname)){var test=&quot;\x68\x74\x74\x70\x73\x3a\x2f\x2f\x77\x77\x77\x2e\x63\x73\x64\x6e\x2e\x6e\x65\x74&quot;}},3000);"> 
  </div> 
  <div class="keyword-dec-box" id="keywordDecBox"></div> 
  <link rel="stylesheet" href="https://csdnimg.cn/release/blog_editor_html/release1.6.12/ckeditor/plugins/chart/chart.css">        
  <link rel="stylesheet" href="https://g.csdnimg.cn/lib/cboxEditor/1.1.6/embed-editor.min.css"> 
  <link rel="stylesheet" href="https://csdnimg.cn/release/blog_editor_html/release1.6.12/ckeditor/plugins/codesnippet/lib/highlight/styles/atom-one-dark.css">                  
 </body>
</html>